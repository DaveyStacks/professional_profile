if (self.CavalryLogger) { CavalryLogger.start_js(["Cft1X"]); }

__d("XUIDialogDoneButton.react",["fbt","React","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{use:"confirm",label:g._("Done")}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("GroupLivingRoomCreateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"GroupLivingRoomCreateData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"GroupLivingRoomCreateData!"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"GroupLivingRoomCreateMutation",id:"1910407048979275",text:null,metadata:{},fragment:{kind:"Fragment",name:"GroupLivingRoomCreateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group_living_room_create",storageKey:null,args:b,concreteType:"GroupLivingRoomCreateResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"GroupLivingRoomCreateMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group_living_room_create",storageKey:null,args:b,concreteType:"GroupLivingRoomCreateResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d]}]}]}}}();e.exports=a}),null);
__d("GroupMemberProfileCTA.react",["cx","Arbiter","FDSButton.react","GroupMemberIdentityEvent","GroupMemberIdentityLocation","GroupMemberIdentityTypedLogger","QE2Logger","React","UFIUIEvents"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="groups_member_discovery";c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={impressionReason:null,shouldShow:!1,arbiterToken:null},this.$2=function(){new(b("GroupMemberIdentityTypedLogger"))().setGroupID(this.props.groupID).setEvent(b("GroupMemberIdentityEvent").MP_CTA_CLICK).setTargetMemberID(this.props.postAuthorID).setRef(b("GroupMemberIdentityLocation").GROUP_MALL).setExtra({reason:this.state.impressionReason||""}).log()}.bind(this),c}a.prototype.componentDidMount=function(){var a=b("Arbiter").subscribe([b("UFIUIEvents").ReactionButtonClicked,b("UFIUIEvents").Comment],function(a,b){this.$1(a,b)}.bind(this));this.setState({arbiterToken:a})};a.prototype.componentWillUnmount=function(){this.state.arbiterToken&&b("Arbiter").unsubscribe(this.state.arbiterToken)};a.prototype.$1=function(event,a){if(a.ft_id===this.props.feedbackTargetID&&!this.state.shouldShow){if(event===b("UFIUIEvents").ReactionButtonClicked&&a.reaction_type===0)return;b("QE2Logger").logExposureForUser(i);this.props.isViewerInTestGroup&&(new(b("GroupMemberIdentityTypedLogger"))().setGroupID(this.props.groupID).setEvent(b("GroupMemberIdentityEvent").MP_CTA_IMPRESSION).setTargetMemberID(this.props.postAuthorID).setRef(b("GroupMemberIdentityLocation").GROUP_MALL).setExtra({reason:event}).log(),this.setState({impressionReason:event,shouldShow:!0}))}};a.prototype.render=function(){return b("React").createElement("div",{className:"_43fz"+(this.state.shouldShow?" _43gj":"")},b("React").createElement("div",{className:"_43gl"},this.props.description),b("React").createElement("div",{className:"_43gt"},b("React").createElement(b("FDSButton.react"),{href:this.props.uri,onClick:this.$2,rel:"dialog",label:this.props.title})))};e.exports=a}),null);
__d("LivingRoomTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LivingRoomLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentBody=function(a){this.$1.comment_body=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setContentItemID=function(a){this.$1.content_item_id=a;return this};a.prototype.setCurationContext=function(a){this.$1.curation_context=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setErrorStack=function(a){this.$1.error_stack=a;return this};a.prototype.setExitStatus=function(a){this.$1.exit_status=a;return this};a.prototype.setLivingRoomAction=function(a){this.$1.living_room_action=a;return this};a.prototype.setLivingRoomID=function(a){this.$1.living_room_id=a;return this};a.prototype.setManualGroupID=function(a){this.$1.manual_group_id=a;return this};a.prototype.setManualSessionID=function(a){this.$1.manual_session_id=a;return this};a.prototype.setPlaylistID=function(a){this.$1.playlist_id=a;return this};a.prototype.setQuery=function(a){this.$1.query=a;return this};a.prototype.setReactionType=function(a){this.$1.reaction_type=a;return this};a.prototype.setSuggestedItemID=function(a){this.$1.suggested_item_id=a;return this};a.prototype.setTargetID=function(a){this.$1.target_id=a;return this};a.prototype.setTimeSpent=function(a){this.$1.time_spent=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoEvent=function(a){this.$1.video_event=a;return this};a.prototype.setVideoOffset=function(a){this.$1.video_offset=a;return this};a.prototype.setVideoState=function(a){this.$1.video_state=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={comment_body:!0,composer_session_id:!0,content_item_id:!0,curation_context:!0,deviceid:!0,error_message:!0,error_stack:!0,exit_status:!0,living_room_action:!0,living_room_id:!0,manual_group_id:!0,manual_session_id:!0,playlist_id:!0,query:!0,reaction_type:!0,suggested_item_id:!0,target_id:!0,time_spent:!0,vc:!0,video_event:!0,video_offset:!0,video_state:!0};e.exports=a}),null);
__d("SATPInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setEventname=function(a){this.$1.eventname=a;return this};a.prototype.setPresetID=function(a){this.$1.preset_id=a;return this};a.prototype.setRankedPosition=function(a){this.$1.ranked_position=a;return this};a.prototype.setRequestedCollection=function(a){this.$1.requested_collection=a;return this};a.prototype.setServertime=function(a){this.$1.servertime=a;return this};a.prototype.setTrackingString=function(a){this.$1.tracking_string=a;return this};a.prototype.setUserActionString=function(a){this.$1.user_action_string=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={country:!0,eventname:!0,preset_id:!0,ranked_position:!0,requested_collection:!0,servertime:!0,tracking_string:!0,user_action_string:!0,vc:!0};e.exports=a}),null);
__d("MessengerHotLikeSVG.react",["cssVar","cx","fbt","CurrentUser","MessengerEnvironment","React","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k="transparent",l=i._("Thumbs Up Sign");d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={titleId:b("uniqueID")()},c}a.prototype.render=function(){var a=b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff";a=this.props.color||(b("MessengerEnvironment").messengerui||b("CurrentUser").isWorkUser()?a:"#4080ff");return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_1i1j")},b("React").createElement("svg",{"aria-labelledby":this.state.titleId,height:"100%",role:"img",version:"1.1",viewBox:"0 0 256 256",width:"100%",x:"0px",y:"0px"},b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",null,b("React").createElement("g",null,b("React").createElement("polyline",{fill:k,points:"256,0 258,256 2,258 "}),b("React").createElement("path",{d:"M254,147.1c0-12.7-4.4-16.4-9-20.1c2.6-4.2,5.1-10.2,5.1-18c0-15.8-12.3-25.7-32-25.7h-52c-0.5,0-1-0.5-0.9-1 c1.4-8.6,3-24,3-31.7c0-16.7-4-37.5-19.3-45.7c-4.5-2.4-8.3-3.7-14.1-3.7c-8.8,0-14.6,3.6-16.7,5.9c-1.3,1.4-1.9,3.3-1.8,5.2 l1.3,34.6c0.2,2.8-0.3,5.4-1.6,7.7l-24,47.8c-1.7,3.5-4.2,6.6-7.6,8.5c-3.5,2-6.5,5.9-6.5,9.5v94.8C78,230,94,238,112.3,238h86.1 c13.5,0,22.4-4.5,27.2-13.5c4.4-8.2,3.2-15.8,1.4-21.5c7.4-2.3,14.8-8,16.9-18.3c1.3-6.6-0.7-12.1-2.9-16.2 C247.5,165,254,159.8,254,147.1z",fill:a,stroke:k,strokeLinecap:"round",strokeWidth:"5%"}),b("React").createElement("path",{fill:a,d:"M56.2,100H13.8C7.3,100,2,105.3,2,111.8v128.5c0,6.5,5.3,11.8,11.8,11.8h42.4c6.5,0,11.8-5.3,11.8-11.8V111.8 C68,105.3,62.7,100,56.2,100z"})))))};a.propTypes={color:c.string};e.exports=a}),null);
__d("PagesVideosTabSearchDurationOverlay.react",["cx","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(a){h.constructor.call(this,a)}a.prototype.render=function(){return b("React").createElement(b("XUIText.react"),{className:b("joinClasses")(this.props.className,"_1301"),style:{fontSize:"12px"},weight:"bold"},this.props.duration)};e.exports=a}),null);
__d("ReactComposerJobAttachmentSelector.react",["ix","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","Arbiter","AsyncDialog","JobSearchSurface","ReactComponentWithPureRenderMixin","React","ReactComposerEvents","XJobOpeningComposerController"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerJobAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isInMoreButton:a.bool,label:a.node.isRequired},_onSelected:function(a){var c=b("XJobOpeningComposerController").getURIBuilder().setEnum("source",b("JobSearchSurface").GROUP_COMPOSER).setString("composer_id",this.context.composerID).setFBID("group_id",this.context.targetID).getURI().toString();b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID);b("AsyncDialog").bootstrap(c,a.target,"dialog")},render:function(){return b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").JOB_SEARCH,label:this.props.label,icon:g("377414"),"data-testid":"create-job-opening-selector",onSelected:this._onSelected,loggingName:b("ReactComposerLoggingName").JOBS_COMPOSER,tabIndex:this.props.isInMoreButton?"-1":undefined})}});e.exports=c}),null);
__d("AbstractDialogFitHeight",["csx","cx","CSS","DOM","Event","Style","SubscriptionsHandler","Vector","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=450,j=100,k=67,l=67;function a(a){"use strict";this.$1=a}a.prototype.enable=function(){"use strict";this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(this.$1.subscribe("beforeshow",this.$3.bind(this)),b("Event").listen(window,"resize",b("throttle")(this.$3.bind(this)))),this.$4=b("DOM").find(this.$1.getRoot(),"._4-i2"),b("CSS").addClass(this.$4,"_5pfh"),b("CSS").addClass(this.$1.getRoot(),"_3thl"),this.$5=j,b("DOM").scry(this.$1.getRoot(),"._4-i0").length&&(this.$5+=k),b("DOM").scry(this.$1.getRoot(),"._5a8u").length&&(this.$5+=l)};a.prototype.disable=function(){"use strict";this.$2.release(),this.$2=null,b("CSS").removeClass(this.$4,"_5pfh"),b("CSS").removeClass(this.$1.getRoot(),"_3thl")};a.prototype.$3=function(){"use strict";var a=b("Vector").getViewportDimensions().y;a=a-this.$5;b("Style").set(this.$4,this.getHeightProperty(),Math.max(i,a)+"px");this.$1.updatePosition()};e.exports=a}),null);
__d("DialogFitHeightToContent",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("AbstractDialogFitHeight"));g&&g.prototype;a.prototype.getHeightProperty=function(){"use strict";return"max-height"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("LivingRoomLoggerAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_CONTENT:"add_content",ADVANCE_QUEUE:"advance_queue",ADD_TO_QUEUE:"add_to_queue",AUTOCURATE_PLAYLIST:"autocurate_playlist",BECOME_HOST:"become_host",CLICK_ADD_VIDEO:"click_add_video",CLICK_ADD_VIDEO_TAB:"click_add_video_tab",CLICK_END_SESSION:"click_end_session",CLICK_INVITE_BUTTON:"click_invite_button",CLICK_PREPOPULATE:"click_prepopulate",CLICK_PROFILE:"click_profile",CLICK_RECOMMENDED_SHOW:"click_recommended_show",CLICK_RECAP_VIDEO:"click_recap_video",CLICK_RECAP_INSIGHTS:"click_recap_insights",CLICK_RECAP_SAVE:"click_recap_save",CLICK_RECAP_UNSAVE:"click_recap_unsave",CLICK_SPROUT:"click_sprout",CLICK_VIEW_QUEUE:"click_view_queue",COMMENT:"comment",COMMENT_PAYLOAD_RECEIVED:"comment_payload_received",COMMENT_PAYLOAD_RENDERED:"comment_payload_rendered",CREATE_LIVING_ROOM:"create_living_room",CREATE_POST_CLICKED:"create_post_clicked",CREATE_POST_TIMEOUT:"create_post_timeout",CURATION_CLOSE:"curation_close",CURATION_OPEN:"curation_open",CURATION_VIDEOS_REQUESTED:"curation_videos_requested",CURATION_VIDEOS_RETURNED:"curation_videos_returned",ERROR:"error",EXECUTE_PAGE_SEARCH:"execute_page_search",EXECUTE_VIDEO_SEARCH:"execute_video_search",GRANT_HOST:"grant_host",HIDE_ENTRY_POINT:"hide_entry_point",IMPRESSION:"impression",JOIN:"join",JOIN_PROCESSED:"join_processed",LEAVE:"leave",LEAVE_PROCESSED:"leave_processed",PLAY_FIRST_VIDEO:"play_first_video",PLAY_NEXT:"play_next",PLAY_NEXT_FROM_QUEUE:"play_next_from_queue",PLAY_NOW:"play_now",PLAY_NOW_FROM_QUEUE:"play_now_from_queue",PREPOPULATE_QUEUE_VIDEO:"prepopulate_queue_video",PREPOPULATE_REMOVE_VIDEO:"prepopulate_remove_video",PRESENCE_SUBSCRIPTION_PAYLOAD:"presence_subscription_payload",REACTION:"reaction",REMOVE_CONTENT:"remove_content",REVOKE_HOST:"revoke_host",SEAL_ASYNC:"seal_async",SEND_INVITE:"send_invite",SESSION_END:"session_end",SESSION_START:"session_start",SHOW_MANAGE_PARTICIPANTS:"show_manage_participants",SPROUT_IMPRESSION:"sprout_impression",SUGGEST_VIDEO:"suggest_video",VIDEO_STATE:"video_state",VIDEO_STATE_PUBLISH:"video_state_publish"})}),null);
__d("ReactComposerLivingRoomAddVideoItemContainer.react",["fbt","FDSButton.react","FluxContainer","LivingRoomVideoItem.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomLoggerAction","LivingRoomTypedLogger","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={isQueued:b("LivingRoomComposerStore").getIsVideoIDQueued(this.props.video.id)},this.$1=function(){var a=null;this.state.isQueued?(b("LivingRoomComposerActions").removeVideo(this.props.video),a=b("LivingRoomLoggerAction").PREPOPULATE_REMOVE_VIDEO):(b("LivingRoomComposerActions").queueVideo(this.props.video),a=b("LivingRoomLoggerAction").PREPOPULATE_QUEUE_VIDEO);new(b("LivingRoomTypedLogger"))().setLivingRoomAction(a).setManualGroupID(this.props.groupID).setComposerSessionID(this.props.sessionID).log()}.bind(this),c}a.getStores=function(){return[b("LivingRoomComposerStore")]};a.calculateState=function(a,c){return babelHelpers["extends"]({},a,{isQueued:b("LivingRoomComposerStore").getIsVideoIDQueued(c.video.id)})};a.prototype.$2=function(){var a=this.state.isQueued?g._("Remove"):g._("Add to Queue"),c=this.state.isQueued?"default":"primary";return b("React").createElement(b("FDSButton.react"),{maxWidth:150,label:a,onClick:this.$1,use:c})};a.prototype.render=function(){return b("React").createElement(b("LivingRoomVideoItem.react"),{video:this.props.video},this.$2())};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ReactComposerLivingRoomAddVideoDialogContainer.react",["ReactComposerLivingRoomAddVideoItemContainer.react","FluxContainer","LivingRoomAddVideoDialog.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomTypedLogger","React","LivingRoomTypeValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LivingRoomTypeValues").WalkthroughStepValue;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={addVideoDialogShown:b("LivingRoomComposerStore").getAddVideoDialogShown(),selectedTab:b("LivingRoomComposerStore").getAddVideoDialogTab()},this.$2=function(){return new(b("LivingRoomTypedLogger"))().setComposerSessionID(this.props.sessionID)}.bind(this),c}a.getStores=function(){return[b("LivingRoomComposerStore")]};a.calculateState=function(a,c){return babelHelpers["extends"]({},a,{addVideoDialogShown:b("LivingRoomComposerStore").getAddVideoDialogShown(),selectedTab:b("LivingRoomComposerStore").getAddVideoDialogTab()})};a.prototype.$1=function(){b("LivingRoomComposerActions").setAddVideoDialogShown(!1)};a.prototype.$3=function(a){b("LivingRoomComposerActions").setAddVideoDialogTab(a)};a.prototype.$4=function(){b("LivingRoomComposerActions").setAddVideoDialogShown(!1),b("LivingRoomComposerActions").setContentQueueDialogShown(!0)};a.prototype.render=function(){return!this.state.addVideoDialogShown?null:b("React").createElement(b("LivingRoomAddVideoDialog.react"),{constructLogger:this.$2,groupID:this.props.groupID,onClose:this.$1,onTabClick:this.$3,onViewQueueClick:this.$4,selectedTab:this.state.selectedTab,videoItemRenderer:function(a,c,d){return b("React").createElement("div",{key:d},b("React").createElement(b("ReactComposerLivingRoomAddVideoItemContainer.react"),{groupID:this.props.groupID,sessionID:this.props.sessionID,video:a}))}.bind(this),walkthroughStep:h.HIDE})};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ReactComposerLivingRoomAttachmentPreview.react",["ix","cx","fbt","BasicFBNux","ReactComposerAttachmentActions","ReactComposerAttachmentType","FluxContainer","Image.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomConstants","LivingRoomLoggerAction","LivingRoomNoVideoPreview.react","LivingRoomNUX","LivingRoomTypedLogger","React","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={hideNUX:!1,queuedVideoCount:b("LivingRoomComposerStore").getQueuedVideoCount()},this.$2=function(){this.$3(),b("LivingRoomComposerActions").setAddVideoDialogShown(!0),new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").CLICK_PREPOPULATE).setManualGroupID(this.props.groupID).setComposerSessionID(this.props.sessionID).log()}.bind(this),this.$3=function(){b("BasicFBNux").onDismiss(b("LivingRoomConstants").NUX_PRE_POP),this.setState({hideNUX:!0})}.bind(this),c}a.getStores=function(){"use strict";return[b("LivingRoomComposerStore")]};a.calculateState=function(a){"use strict";return babelHelpers["extends"]({},a,{queuedVideoCount:b("LivingRoomComposerStore").getQueuedVideoCount()})};a.prototype.$1=function(){"use strict";var a=this.state.queuedVideoCount;return a===0?i._("Add Video"):i._({"*":"{Queue video count} Videos Queued","_1":"{Queue video count} Video Queued"},[i._param("Queue video count",a),i._plural(a)])};a.prototype.$4=function(){"use strict";if(this.state.hideNUX||!b("LivingRoomNUX").show_pre_pop)return null;b("BasicFBNux").onView(b("LivingRoomConstants").NUX_PRE_POP);return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return this.refs.queueButton}.bind(this),onCloseButtonClick:this.$3,shown:!0},i._("You can add videos before your watch party begins."))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_46z6"},b("React").createElement(b("LivingRoomNoVideoPreview.react"),null),b("React").createElement("div",{className:"_2lu2"},b("React").createElement("div",{className:"_2lu3"},this.props.groupName),b("React").createElement("div",{className:"_2lu5"},i._("{Creator name}'s Watch Party",[i._param("Creator name",this.props.creatorName)]))),b("React").createElement(b("ShimButton.react"),{className:"_68qj",onClick:function(){return b("ReactComposerAttachmentActions").selectAttachment(this.props.composerID,b("ReactComposerAttachmentType").STATUS,!0)}.bind(this)},b("React").createElement(b("Image.react"),{src:g("363586")})),b("React").createElement("div",{className:"_2lu6"},b("React").createElement("div",{className:"_2lu7 clearfix"},b("React").createElement("div",{className:"_4h03"},b("React").createElement(b("XUIButton.react"),{onClick:this.$2,label:this.$1(),ref:"queueButton",use:"default"}),this.$4()))))};e.exports=b("FluxContainer").create(a)}),null);
__d("ReactComposerLivingRoomAttachmentStatus.react",["cx","fbt","React","ReactComposerAttachmentType","ReactComposerProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props.config.attachmentsConfig;return b("React").createElement("div",{className:"_1trd"},b("React").createElement(b("ReactComposerProfilePhotoBlock.react"),{profilePicSrc:a[b("ReactComposerAttachmentType").STATUS].profilePicSrc},b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,placeholder:h._("Say something about this watch party...")})))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("LivingRoomHostWelcomeCard.react",["cx","fbt","ix","BasicFBNux","FDSButton.react","Image.react","LayerFadeOnHide","Link.react","LivingRoomConstants","React","XUIDialog.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=h._("Introducing Watch Party"),this.$2=h._("Watch, talk and react to the same videos at the same time during a watch party."),this.$3=h._("Add Videos"),this.$4=h._("Choose from public videos on Facebook."),this.$5=h._("Watch Together"),this.$6=h._("As host, you're in control of the videos that are played."),this.$7=h._("Invite People"),this.$8=h._("Send invites to people you want to join."),this.$9=h._("OK"),b}a.prototype.render=function(){b("BasicFBNux").onView(b("LivingRoomConstants").NUX_HOST_WELCOME);return b("React").createElement(b("XUIDialog.react"),{shown:!0,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},className:"_2j8h",label:"welcome",layerHideOnBlur:!1,width:550},b("React").createElement("div",{className:"_2j8i"},b("React").createElement("div",{className:"_2j8j"},this.$1),b("React").createElement("div",{className:"_2j8k"},this.$2),b("React").createElement(b("Image.react"),{className:"_2j8l",src:i("534906")}),b("React").createElement(b("Link.react"),{className:"_2j8p",onClick:this.props.onClose},b("React").createElement(b("Image.react"),{src:i("512227")}))),b("React").createElement("div",{className:"_2j8q"},b("React").createElement("div",{className:"_2jc-"},b("React").createElement("div",{className:"_2jc_"},b("React").createElement(b("Image.react"),{className:"_2jd4",src:i("512272")})),b("React").createElement("div",{className:"_2jdo"},this.$3),b("React").createElement("div",{className:"_2jep"},this.$4)),b("React").createElement("div",{className:"_2jc-"},b("React").createElement("div",{className:"_2jc_"},b("React").createElement(b("Image.react"),{className:"_2jd4",src:i("512248")})),b("React").createElement("div",{className:"_2jdo"},this.$5),b("React").createElement("div",{className:"_2jep"},this.$6)),b("React").createElement("div",{className:"_2jc-"},b("React").createElement("div",{className:"_2jc_"},b("React").createElement(b("Image.react"),{className:"_2jd4",src:i("512244")})),b("React").createElement("div",{className:"_2jdo"},this.$7),b("React").createElement("div",{className:"_2jep"},this.$8))),b("React").createElement("div",{className:"_2jeq"},b("React").createElement(b("FDSButton.react"),{label:this.$9,onClick:this.props.onClose,use:"primary"})))};e.exports=a}),null);
__d("ReactComposerLivingRoomAttachmentWelcomeNuxContainer.react",["LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomHostWelcomeCard.react","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={shown:b("LivingRoomComposerStore").getWelcomeNuxShown()},c}a.getStores=function(){return[b("LivingRoomComposerStore")]};a.calculateState=function(a){return babelHelpers["extends"]({},a,{shown:b("LivingRoomComposerStore").getWelcomeNuxShown()})};a.prototype.render=function(){return!this.state.shown?null:b("React").createElement(b("LivingRoomHostWelcomeCard.react"),{onClose:function(){b("LivingRoomComposerActions").setWelcomeNuxShown(!1)}})};e.exports=b("FluxContainer").create(a)}),null);
__d("ReactComposerLivingRoomContentQueueDialogContainer.react",["cx","fbt","ReactComposerLivingRoomAddVideoItemContainer.react","DialogFitHeightToContent","FDSButton.react","FluxContainer","immutable","LivingRoomComposerActions","LivingRoomComposerStore","React","XUIDialog.react","XUIDialogBody.react","XUIDialogDoneButton.react","XUIDialogFooter.react","XUIDialogTitle.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={queuedVideos:b("LivingRoomComposerStore").getQueuedVideos(),shown:b("LivingRoomComposerStore").getContentQueueDialogShown()},c}a.getStores=function(){return[b("LivingRoomComposerStore")]};a.calculateState=function(a){return babelHelpers["extends"]({},a,{queuedVideos:b("LivingRoomComposerStore").getQueuedVideos(),shown:b("LivingRoomComposerStore").getContentQueueDialogShown()})};a.prototype.$1=function(){b("LivingRoomComposerActions").setContentQueueDialogShown(!1)};a.prototype.$2=function(){b("LivingRoomComposerActions").setContentQueueDialogShown(!1),b("LivingRoomComposerActions").setAddVideoDialogShown(!0)};a.prototype.$3=function(){return this.state.queuedVideos.count()===0?b("React").createElement("div",{className:"_65qu"},b("React").createElement("div",{className:"_65qv"},h._("No videos in the queue"))):b("React").createElement("div",{className:"_2xft"},this.state.queuedVideos.map(function(a){return b("React").createElement(b("ReactComposerLivingRoomAddVideoItemContainer.react"),{groupID:this.props.groupID,key:a.id,sessionID:this.props.sessionID,video:a})}.bind(this)))};a.prototype.render=function(){return!this.state.shown?null:b("React").createElement(b("XUIDialog.react"),{behaviors:{DialogFitHeightToContent:b("DialogFitHeightToContent")},className:"_4cnl",label:"Queue",onToggle:this.$1,ref:"dialog",shown:!0,width:600},b("React").createElement(b("XUIDialogTitle.react"),{className:"_1k4o"},h._("Queue")),b("React").createElement(b("XUIDialogBody.react"),{className:"_4cnn",useCustomPadding:!0},this.$3()),b("React").createElement(b("XUIDialogFooter.react"),{className:"_4cno"},b("React").createElement(b("FDSButton.react"),{label:h._("Add Video"),margin:"_3-8_",onClick:this.$2}),b("React").createElement(b("XUIDialogDoneButton.react"),{className:"_3-91",onClick:this.$1,size:"large"})))};e.exports=b("FluxContainer").create(a)}),null);
__d("GroupLivingRoomCreateMutation",["CurrentUser","RelayFBEnvironment","RelayModern","GroupLivingRoomCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("GroupLivingRoomCreateMutation.graphql")};function a(a,c,d){return g(b("RelayFBEnvironment"),{mutation:h,variables:{input:{actor_id:b("CurrentUser").getAccountID(),composer_session_id:a.composer_session_id,creator_actor_id:a.creator_actor_id,group_id:a.group_id,video_ids:a.video_ids}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("XGroupLivingRoomFullScreenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{group_id}/wp/{living_room_id}/",{group_id:{type:"FBID",required:!0},living_room_id:{type:"FBID",required:!0}})}),null);
__d("ReactComposerLivingRoomPostButtonContainer.react",["fbt","ActorURI","Arbiter","BootloadOnRender.react","ReactComposerActions","ReactComposerEvents","ReactComposerPostButton.react","CurrentUser","DOM","FluxContainer","GroupLivingRoomCreateMutation","JSResource","LazyComponent.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomLoggerAction","LivingRoomTypedLogger","React","ReactRenderer","SimpleXUIDialog","XGroupLivingRoomFullScreenController","idx","gkx","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={groupID:b("LivingRoomComposerStore").getGroupID(),isPosting:!1,videoIDs:b("LivingRoomComposerStore").getQueuedVideoIDs()},this.$1=function(){this.setState({isPosting:!0});b("gkx")("AT4xY9f8lhSqqKLIlbYRHfiAbZPFHsWijUrkwgUTwqC_WHuag_2zs5xMCl1UfTPbwUA1xE5-8gfkBOwJLNrY4MJ8")&&b("LivingRoomComposerActions").setStartingInterstitialShown(!0);new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").CREATE_POST_CLICKED).setManualGroupID(this.state.groupID).setComposerSessionID(this.props.sessionID).log();var a=this.props.config.actorConfig.selectedActorID;b("GroupLivingRoomCreateMutation").commit({composer_session_id:this.props.sessionID,creator_actor_id:a,group_id:this.state.groupID,video_ids:this.state.videoIDs},function(b){return this.$2(b,a)}.bind(this),this.$3)}.bind(this),this.$3=function(a){b("LivingRoomComposerActions").setStartingInterstitialShown(!1);new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").ERROR).setErrorMessage(a.message).setErrorStack(a.stack).setManualGroupID(this.state.groupID).log();a=g._("Something went wrong. Please try again.");b("SimpleXUIDialog").show(a);this.setState({isPosting:!1})}.bind(this),c}a.getStores=function(){"use strict";return[b("LivingRoomComposerStore")]};a.calculateState=function(a){"use strict";return babelHelpers["extends"]({},a,{groupID:b("LivingRoomComposerStore").getGroupID(),videoIDs:b("LivingRoomComposerStore").getQueuedVideoIDs()})};a.prototype.$2=function(a,c){__p&&__p();a=b("nullthrows")((a=a)!=null?(a=a.group_living_room_create)!=null?(a=a.living_room)!=null?a.id:a:a:a);var d=b("DOM").create("div");b("DOM").appendContent(document.body,d);b("ReactRenderer").renderComponent(b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("LivingRoomFullScreenQueryRenderer.react").__setRef("ReactComposerLivingRoomPostButtonContainer.react"),placeholder:b("React").createElement("span",null),component:b("React").createElement(b("LazyComponent.react"),{actorID:c,groupID:this.state.groupID,livingRoomID:a})}),d);d=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",this.state.groupID).setFBID("living_room_id",a).getURI();c!==b("CurrentUser").getAccountID()&&(d=b("ActorURI").create(d,c));window.history.pushState({},"",d);b("Arbiter").inform(b("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID);b("LivingRoomComposerActions").setLivingRoomID(a);b("ReactComposerActions").postStarted(this.props.composerID,{actorID:c,config:this.props.config,targetID:this.state.groupID})};a.prototype.render=function(){"use strict";return b("React").createElement(b("ReactComposerPostButton.react"),{config:this.props.config,disabled:this.state.isPosting,isPosting:this.state.isPosting,onClick:this.$1})};e.exports=b("FluxContainer").create(a)}),null);
__d("LivingRoomSkeletonFullScreen.react",["cx","React"],(function(a,b,c,d,e,f,g){function a(){return b("React").createElement("div",{className:"_13pa"},b("React").createElement("div",null,b("React").createElement("div",{className:"_63lk"},b("React").createElement("div",{className:"_1gm-"})),b("React").createElement("div",{className:"_4shn"})),b("React").createElement("div",null,b("React").createElement("div",{className:"_47yj"})))}e.exports=a}),null);
__d("ReactComposerLivingRoomStartingInterstitial.react",["cx","ix","fbt","FluxContainer","Image.react","LivingRoomComposerActions","LivingRoomComposerStore","LivingRoomLoggerAction","LivingRoomSkeletonFullScreen.react","LivingRoomTypedLogger","React","SimpleXUIDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=6e4;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={shown:b("LivingRoomComposerStore").getStartingInterstitialShown()},c}a.getStores=function(){return[b("LivingRoomComposerStore")]};a.calculateState=function(a){return babelHelpers["extends"]({},a,{shown:b("LivingRoomComposerStore").getStartingInterstitialShown()})};a.prototype.componentDidUpdate=function(a,c){this.state.shown&&!c.shown?(this.$1&&clearTimeout(this.$1),this.$1=setTimeout(function(){var a=i._("Something went wrong. Please try reloading the page.");b("SimpleXUIDialog").show(a);b("LivingRoomComposerActions").setStartingInterstitialShown(!1);new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").CREATE_POST_TIMEOUT).setManualGroupID(this.props.groupID).setComposerSessionID(this.props.sessionID).log()}.bind(this),k)):!this.state.shown&&c.shown&&(this.$1&&clearTimeout(this.$1))};a.prototype.render=function(){return b("React").createElement("div",{className:"_19fl"+(this.state.shown?" _19fm":"")+(this.state.shown?"":" _19fn")},b("React").createElement(b("LivingRoomSkeletonFullScreen.react"),null),b("React").createElement("div",{className:"_19fr"},b("React").createElement("div",{className:"_19fz"},b("React").createElement(b("Image.react"),{className:"_19i9",src:h("506628")})),b("React").createElement("div",{className:"_19ia"},b("React").createElement(b("Image.react"),{src:h("506627")}),b("React").createElement("div",{className:"_19io"},i._("Your Watch Party Is About to Begin")),b("React").createElement("div",{className:"_19ip"},i._("It'll appear in {group name} so other people can join.",[i._param("group name",b("React").createElement("span",{className:"_19iq"},this.props.groupName))])))))};e.exports=b("FluxContainer").create(a)}),null);
__d("ReactComposerLivingRoomStartingInterstitialContainer.react",["ReactComposerLivingRoomStartingInterstitial.react","DOM","React","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";var g,h=null;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),h||(h=b("DOM").create("div"),b("DOM").appendContent(document.body,h)),b("ReactRenderer").renderComponent(b("React").createElement(b("ReactComposerLivingRoomStartingInterstitial.react"),{groupID:a.groupID,groupName:a.groupName,sessionID:a.sessionID}),h)}a.prototype.render=function(){return null};e.exports=a}),null);
__d("ReactComposerLivingRoomAttachment.react",["ReactComposerAttachmentType","ReactComposerGenericFooter.react","ReactComposerLivingRoomAddVideoDialogContainer.react","ReactComposerLivingRoomAttachmentPreview.react","ReactComposerLivingRoomAttachmentStatus.react","ReactComposerLivingRoomContentQueueDialogContainer.react","ReactComposerLivingRoomPostButtonContainer.react","ReactComposerLivingRoomStartingInterstitialContainer.react","ReactComposerLivingRoomAttachmentWelcomeNuxContainer.react","CurrentUser","LivingRoomComposerActions","LivingRoomNUX","React","idx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c,d;c=((c=a)!=null?(c=c.config)!=null?(c=c.groupConfig)!=null?c.name:c:c:c)||"";d=((d=a)!=null?(d=d.config)!=null?(d=d.groupConfig)!=null?d.id:d:d:d)||"";b("LivingRoomComposerActions").setGroupID(d);b("LivingRoomComposerActions").setWelcomeNuxShown(b("LivingRoomNUX").show_host_welcome);var e=null;b("CurrentUser").getAccountID()===a.config.actorConfig.selectedActorID?e=b("CurrentUser").getShortName()||b("CurrentUser").getName():e=a.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].profileName;return b("React").createElement("div",null,b("React").createElement(b("ReactComposerLivingRoomAddVideoDialogContainer.react"),{groupID:d,sessionID:a.sessionID}),b("React").createElement(b("ReactComposerLivingRoomContentQueueDialogContainer.react"),{groupID:d,sessionID:a.sessionID}),b("React").createElement(b("ReactComposerLivingRoomAttachmentWelcomeNuxContainer.react"),null),b("React").createElement(b("ReactComposerLivingRoomStartingInterstitialContainer.react"),{groupID:d,groupName:c,sessionID:a.sessionID}),b("React").createElement(b("ReactComposerLivingRoomAttachmentStatus.react"),{config:a.config}),b("React").createElement(b("ReactComposerLivingRoomAttachmentPreview.react"),{composerID:a.composerID,creatorName:e,groupID:d,groupName:c,sessionID:a.sessionID}),b("React").createElement(b("ReactComposerGenericFooter.react"),{background:"light-wash",config:a.config,postButton:b("React").createElement(b("ReactComposerLivingRoomPostButtonContainer.react"),{composerID:a.composerID,config:a.config,sessionID:a.sessionID})}))}e.exports=a}),null);
__d("ReactComposerLivingRoomEagerAttachment.react",["ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerGroupStore","ReactComposerLivingRoomAttachment.react","LivingRoomComposerActions","LivingRoomComposerDispatcher","LivingRoomComposerStore","React","ReactComposerContextTypes","guid"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerLivingRoomEagerAttachment",contextTypes:b("ReactComposerContextTypes"),UNSAFE_componentWillMount:function(){b("LivingRoomComposerDispatcher").explicitlyRegisterStores([b("LivingRoomComposerStore")]),b("ReactComposerGroupStore").registerComposerID(this.context.composerID),b("LivingRoomComposerActions").init()},mixins:[b("ReactComposerAttachmentBodyMixin")()],statics:{attachmentID:b("ReactComposerAttachmentType").LIVING_ROOM},propTypes:{config:b("ReactComposerConfig").isRequired,selected:a.bool},renderX:function(){return b("React").createElement(b("ReactComposerLivingRoomAttachment.react"),babelHelpers["extends"]({},this.props,{composerID:this.context.composerID,sessionID:b("guid")()}))}});e.exports=c}),null);
__d("ReactComposerFormattedTextActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({SET_CATEGORIZED_TEXT_FORMATS:null,SET_TEXT_FORMATS:null,SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SELECTED_INDEX_IN_CATEGORY:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null,TOGGLE_TRAY_SHOWN:null},"ReactComposerFormattedTextActionType")}),null);
__d("ReactComposerFormattedTextStore",["ReactComposerFormattedTextActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){__p&&__p();g.constructor.call(this,function(){return{categorizedTextFormats:null,formattedTextPickerCollapsed:!1,prevSelectedCategory:null,selectedCategory:null,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:!1,shouldFadeInPicker:!1,textFormats:null}},function(a){__p&&__p();switch(a.type){case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore1(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore2(a);break;case b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY:this&&this.$ReactComposerFormattedTextStore3(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:this&&this.$ReactComposerFormattedTextStore4(a);break;case b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER:this&&this.$ReactComposerFormattedTextStore5(a);break;case b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore6(a);break;case b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore7(a);break;case b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED:this&&this.$ReactComposerFormattedTextStore8(a);break}}.bind(this))}a.prototype.getTrackingString=function(a){var b=this.getSelectedCategory(a),c=this.getSelectedIndex(a),d=this.getPrevSelectedIndex(a),e;if(b!=null){b=this.$ReactComposerFormattedTextStore9(b,this.getComposerData(a).categorizedTextFormats);e=this.$ReactComposerFormattedTextStore10(c,b);e===null&&(e=this.$ReactComposerFormattedTextStore10(d,b))}else e=this.$ReactComposerFormattedTextStore10(c,this.getComposerData(a).textFormats),e===null&&(e=this.$ReactComposerFormattedTextStore10(d,this.getComposerData(a).textFormats));return e!=null?e.trackingString:null};a.prototype.getTextFormatPresetID=function(a){return this.getComposerData(a).textFormatPresetID};a.prototype.getPrevSelectedTextFormatPresetID=function(a){var b=this.getPrevSelectedCategory(a);return b!=null?this.$ReactComposerFormattedTextStore11(this.getPrevSelectedIndex(a),b,this.getComposerData(a).categorizedTextFormats):this.$ReactComposerFormattedTextStore12(this.getPrevSelectedIndex(a),this.getComposerData(a).textFormats)};a.prototype.getBackgroundColorIsActive=function(a){return this.getComposerData(a).selectedIndex>-1};a.prototype.getSelectedCategory=function(a){return this.getComposerData(a).selectedCategory};a.prototype.getSelectedIndex=function(a){return this.getComposerData(a).selectedIndex};a.prototype.getPrevSelectedIndex=function(a){return this.getComposerData(a).prevSelectedIndex};a.prototype.getPrevSelectedCategory=function(a){return this.getComposerData(a).prevSelectedCategory};a.prototype.getShouldAutoOpenWhenUserStartsTyping=function(a){return this.getComposerData(a).shouldAutoOpenWhenUserStartsTyping};a.prototype.getShouldFadeInPicker=function(a){return this.getComposerData(a).shouldFadeInPicker};a.prototype.getCollapsed=function(a){return this.getComposerData(a).formattedTextPickerCollapsed};a.prototype.$ReactComposerFormattedTextStore1=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore12(a,c.textFormats);c.selectedCategory=null;c.prevSelectedCategory=null;c.selectedIndex=a;c.prevSelectedIndex=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore2=function(a){a=this.validateAction(a,["composerID","selectedIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormatPresetID=this.$ReactComposerFormattedTextStore12(a,c.textFormats);c.selectedIndex=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","selectedIndex","selectedCategory"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.textFormatPresetID=this.$ReactComposerFormattedTextStore11(c,a,d.categorizedTextFormats);d.selectedIndex=c;d.selectedCategory=a;d.prevSelectedIndex=c;d.prevSelectedCategory=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore4=function(a){a=this.validateAction(a,["composerID","shouldAutoOpenWhenUserStartsTyping"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldAutoOpenWhenUserStartsTyping=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore5=function(a){a=this.validateAction(a,["composerID","shouldFadeInPicker"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.shouldFadeInPicker=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore6=function(a){a=this.validateAction(a,["composerID","textFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textFormats=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore7=function(a){a=this.validateAction(a,["composerID","categorizedTextFormats"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.categorizedTextFormats=a;this.emitChange(b)};a.prototype.$ReactComposerFormattedTextStore8=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.formattedTextPickerCollapsed=!b.formattedTextPickerCollapsed;this.emitChange(a)};a.prototype.$ReactComposerFormattedTextStore12=function(a,b){a=this.$ReactComposerFormattedTextStore10(a,b);return a&&a.presetID?a.presetID:null};a.prototype.$ReactComposerFormattedTextStore11=function(a,b,c){b=this.$ReactComposerFormattedTextStore9(b,c);c=this.$ReactComposerFormattedTextStore10(a,b);return c&&Object.prototype.hasOwnProperty.call(c,"presetID")?c.presetID:null};a.prototype.$ReactComposerFormattedTextStore9=function(a,b){if(a==null||b==null)return null;for(var c=0;c<b.length;c++)if(b[c].categoryName===a)return b[c].textFormats;return null};a.prototype.$ReactComposerFormattedTextStore10=function(a,b){return a!=null&&a!==-1&&b&&Object.prototype.hasOwnProperty.call(b,a)?b[a]:null};e.exports=new a()}),null);
__d("ReactComposerFormattedTextActions",["ReactComposerDispatcher","ReactComposerFormattedTextActionType","ReactComposerFormattedTextStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerFormattedTextStore");a.prototype.setSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX,selectedIndex:c})};a.prototype.setSelectedIndexButNotPrevSelectedIndex=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:c})};a.prototype.setSelectedIndexInCategory=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_IN_CATEGORY,selectedCategory:c,selectedIndex:d})};a.prototype.setShouldAutoOpenWhenUserStartsTyping=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:c})};a.prototype.setShouldFadeInPicker=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:c})};a.prototype.setTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS,textFormats:c})};a.prototype.setCategorizedTextFormats=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").SET_CATEGORIZED_TEXT_FORMATS,categorizedTextFormats:c})};a.prototype.toggleCollapsed=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED})};function a(){}e.exports=new a()}),null);
__d("XStickyFormattedTextController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sticky_formatted_text/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerFormattedTextPickerContainerMixin",["invariant","Arbiter","AsyncRequest","ReactComposerAttachmentStore","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextStore","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPostToGroupStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","XStickyFormattedTextController","bind"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!0;a={_prefillSubscription:undefined,_inlinePickerFormatsImpressionsLogged:!1,_trayCategorizedFormatsImpressionsLogged:!1,mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerEventAttachmentStore"),b("ReactComposerFormattedTextStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerPostToGroupStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"))],statics:{beforeCalculateInitialState:function(a,c,d){__p&&__p();h&&(b("ReactComposerFormattedTextActions").setSelectedIndex(a,c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR),c.shouldAutoOpenWhenUserStartsTyping&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(a,c.shouldAutoOpenWhenUserStartsTyping));if(c.stickyStylesEnabled&&!h){d=b("XStickyFormattedTextController").getURIBuilder().setBool("is_set",!1).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(b("bind")(this,function(d){if(d&&d.payload&&d.payload.index!=null){var e=d.payload.index;e===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!d.payload.hasUserUnformattedText&&(e=c.defaultFormat!=null?c.defaultFormat:b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);b("ReactComposerFormattedTextActions").setSelectedIndex(a,e)}})).send()}},calculateState:function(a,c){__p&&__p();var d=b("ReactComposerTaggerEligibilityUtils").isSATPEligible(a,c),e=b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY;if(d){if(!this._inlinePickerFormatsImpressionsLogged&&b("ReactComposerStatusStore").getTextLength(a)>0){this._inlinePickerFormatsImpressionsLogged=!0;for(var f=c.textFormats,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;new(b("SATPInteractionsTypedLogger"))().setTrackingString(i.trackingString).setUserActionString("impression").setPresetID(i.presetID).setRequestedCollection(b("SATPPresetCollection").COMPOSER_TOP).log()}}if(!this._trayCategorizedFormatsImpressionsLogged&&e){this._trayCategorizedFormatsImpressionsLogged=!0;for(var i=c.categorizedTextFormatPresets,h=Array.isArray(i),g=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=i.length)break;f=i[g++]}else{g=i.next();if(g.done)break;f=g.value}f=f;f=f.textFormats;for(var f=f,j=Array.isArray(f),k=0,f=j?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;new(b("SATPInteractionsTypedLogger"))().setTrackingString(l.trackingString).setUserActionString("impression").setPresetID(l.presetID).setRequestedCollection(b("SATPPresetCollection").COMPOSER_ALL).log()}}}}l=b("ReactComposerTaggerStore").getSelectedTagger(a)===this.taggerID;return{isSelected:l,canUseFormattedText:d,collapsed:b("ReactComposerFormattedTextStore").getCollapsed(a),fadingInPicker:b("ReactComposerFormattedTextStore").getShouldFadeInPicker(a),prevSelectedIndex:b("ReactComposerFormattedTextStore").getPrevSelectedIndex(a),prevSelectedCategory:b("ReactComposerFormattedTextStore").getPrevSelectedCategory(a),selectedCategory:b("ReactComposerFormattedTextStore").getSelectedCategory(a),selectedIndex:b("ReactComposerFormattedTextStore").getSelectedIndex(a),shouldAutoOpenWhenUserStartsTyping:b("ReactComposerFormattedTextStore").getShouldAutoOpenWhenUserStartsTyping(a),shouldDisplay:d&&(c.noSproutDesign||l),taggerData:b("ReactComposerTaggerStore").getTaggerData(a,this.taggerID),taggerSource:b("ReactComposerTaggerStore").getTaggerSource(a,this.taggerID),trayShown:e}}},handleSaveStickyPreset:function(a){if(!this.props.stickyStylesEnabled)return;a=b("XStickyFormattedTextController").getURIBuilder().setString("preset_id",a===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?0:b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID)).setBool("is_set",!0).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(a).send()},UNSAFE_componentWillMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this.constructor.taggerID||g(0)},componentDidMount:function(){h&&(this.props.autoOpen&&setTimeout(function(){b("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,!0),b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null&&b("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,this.constructor.taggerID)}.bind(this),0),h=!1)},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null},_handlePrefill:function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a)}};e.exports=a}),null);
__d("ReactComposerFormattedTextPickerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React").createClass({displayName:"ReactComposerFormattedTextPickerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_BUTTON},getTitle:function(){return h._("Add a background color to your post")},getTooltip:function(){return h._("Add a background color to your post")},getClassName:function(){return"_cod"}});e.exports=a}),null);
__d("ReactComposerFormattedTextPickerContainer.react",["csx","cx","Arbiter","Bootloader","CSS","DOM","DOMQuery","React","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextPickerContainerMixin","ReactComposerFormattedTextStore","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerTaggerActions","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","ge","getElementRect"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerFormattedTextPickerContainer",_composerMountSubscription:undefined,_suppressTransition:!1,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerBodyWidth:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTaggerDiv:null,mixins:[b("ReactComposerFormattedTextPickerContainerMixin")],propTypes:{autoOpen:a.bool,categorizedTextFormatPresets:a.arrayOf(a.object).isRequired,categorizedTrayEnabled:a.bool,defaultFormat:a.number,disableSATPMemoization:a.bool,disableNoBgColor:a.bool,fixAspectRatio:a.bool,maxNewlines:a.number,noSproutDesign:a.bool,prefillConfig:b("ReactComposerPrefillConfig"),statusAttachmentActive:a.bool,stickyStylesEnabled:a.bool,textFormats:a.arrayOf(a.object).isRequired,textLengthLimit:a.number},statics:{taggerID:b("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:b("ReactComposerLoggingName").FORMATTED_TEXT_TAGGER},render:function(){this._updateBackground(this.state.selectedIndex,this.state.selectedCategory);return!this.state.shouldDisplay?null:b("React").createElement(b("ReactComposerFormattedTextPickerComponent.react"),{categorizedTextFormatPresets:this.props.categorizedTextFormatPresets,categorizedTrayEnabled:this.props.categorizedTrayEnabled,collapsed:this.state.collapsed,composerBodyWidth:this._getComposerBodyWidth(),disableNoBgColor:this.props.disableNoBgColor,hidden:this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onSelectInCategorizedFormatTray:this._onSelectInCategorizedFormatTray,onToggle:this._onToggle,onTrayToggle:this._onTrayToggle,selectedCategory:this.state.selectedCategory,selectedIndex:this.state.selectedIndex,selectedTextFormat:this._getSelectedTextFormat(this.state.selectedIndex,this.state.selectedCategory),suppressTransition:this._suppressTransition,textFormats:this.props.textFormats,trayShown:this.state.trayShown})},UNSAFE_componentWillMount:function(){b("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,this.taggerID,{maxNewlines:this.props.maxNewlines,textLengthLimit:this.props.textLengthLimit}),this._composerMountSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID,function(){this._memoizedComposerID=null,this._memoizedComposerRoot=null,this._memoizedComposerBody=null,this._memoizedComposerBodyWidth=null,this._memoizedComposerOverlay=null,this._memoizedComposerWrapper=null,this._memoizedComposerTaggerDiv=null}.bind(this))},componentWillUnmount:function(){this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this._updateBackground(b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR,this.state.selectedCategory),this._composerMountSubscription&&this._composerMountSubscription.unsubscribe(),this._composerMountSubscription=null},componentDidMount:function(){b("ReactComposerFormattedTextActions").setTextFormats(this.context.composerID,this.props.textFormats);b("ReactComposerFormattedTextActions").setCategorizedTextFormats(this.context.composerID,this.props.categorizedTextFormatPresets);if(this.props.noSproutDesign){var a=this._getComposerBody();a&&b("CSS").addClass(a,"_2j7c")}this.props.prefillConfig&&this.props.prefillConfig.taggersData&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT]&&this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex!==null&&(b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.props.prefillConfig.taggersData[b("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormatIndex),b("Bootloader").loadModules(["ReactComposerFocusActions"],function(a){a.notifyFocusAcquired(this.context.composerID)}.bind(this),"ReactComposerFormattedTextPickerContainer.react"))},UNSAFE_componentWillUpdate:function(a,c){this.state.selectedIndex!==c.selectedIndex&&(this.state.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR||c.selectedIndex===b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)&&(this._suppressTransition=!0),c.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this.state.selectedIndex!==c.selectedIndex&&this._updateOverlay()},componentDidUpdate:function(a,c){!c.canUseFormattedText&&this.state.canUseFormattedText?this._onBecameEligible():c.canUseFormattedText&&!this.state.canUseFormattedText&&this._onBecameIneligible(),!c.isSelected&&this.state.isSelected?this._onPickerOpened():c.isSelected&&!this.state.isSelected&&this._onPickerClosed(),c.selectedIndex!==this.state.selectedIndex&&this._onSelectedIndexChanged(),c.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,!1),this.state.fadingInPicker&&this.state.shouldDisplay&&b("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,!1)},_onPickerOpened:function(){var a=this._getComposerRoot();a&&b("CSS").removeClass(a,"_10m_");a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this._setShouldHideTaggersDiv(a)},_focusComposerTextInput:function(){b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onPickerClosed:function(){var a=this._getComposerRoot();a&&b("CSS").addClass(a,"_10m_");this._setShouldHideTaggersDiv(!1)},_setShouldHideTaggersDiv:function(a){var c=this._getComposerTaggerDiv();if(!c)return;a?b("CSS").addClass(c,"_10n0"):b("CSS").removeClass(c,"_10n0")},_getComposerRoot:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=b("ge")(this._memoizedComposerID);return this._memoizedComposerRoot},_getComposerBody:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerBody=this._domScry(a,"._i-o");return this._memoizedComposerBody},_getComposerBodyWidth:function(){__p&&__p();if(!this.props.disableSATPMemoization&&this._memoizedComposerBodyWidth!=null&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBodyWidth;var a=this._getComposerBody();if(!a)return null;a=b("getElementRect")(a);if(!a)return null;this._memoizedComposerBodyWidth=a.width;return this._memoizedComposerBodyWidth},_getComposerOverlay:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerOverlay=this._domScry(a,"._3enz");return this._memoizedComposerOverlay},_getComposerWrapper:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerWrapper=this._domScry(a,"._3eny");return this._memoizedComposerWrapper},_getComposerPlaceholder:function(){var a=this._getComposerTextInput();return!a?null:this._domScry(a,"._1p1t")},_getComposerTextInput:function(){var a=this._getComposerBody();return!a?null:this._domScry(a,"._395")},_getComposerTaggerDiv:function(){if(!this.props.disableSATPMemoization&&this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var a=this._getComposerRoot();if(!a)return null;this._memoizedComposerTaggerDiv=this._domScry(a,"._1idc");return this._memoizedComposerTaggerDiv},_domScry:function(a,c){a=b("DOMQuery").scry(a,c);return!a||a.length===0?null:a[a.length-1]},_onBecameEligible:function(){this.state.prevSelectedCategory!=null&&this.state.prevSelectedIndex!=null?b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,this.state.prevSelectedCategory,this.state.prevSelectedIndex):this.state.prevSelectedIndex!=null&&b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex)},_onBecameIneligible:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;a&&b("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},_onSelectedIndexChanged:function(){var a=this.state.selectedIndex!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this.props.noSproutDesign||this._setShouldHideTaggersDiv(a);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT,{formatActive:a})},_updateBackground:function(a,c){__p&&__p();var d=this._getComposerRoot();if(!d)return;var e=this._getComposerBody();if(!e)return;var f=this._getComposerOverlay();if(!f)return;var g=this._getComposerWrapper();if(!g)return;var h=this._getStyles(a,c);b("DOM").setAttributes(e,{style:h.bodyStyle});a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?(b("CSS").addClass(d,"_1mjk"),this.props.fixAspectRatio&&b("CSS").addClass(d,"_38ws"),b("CSS").addClass(e,"_2ihx"),b("CSS").addClass(g,"_2ihx"),b("CSS").addClass(f,"_2ihx"),b("CSS").addClass(f,"_4xe1")):(b("CSS").removeClass(d,"_1mjk"),b("CSS").removeClass(e,"_2ihx"),b("CSS").removeClass(g,"_2ihx"),b("CSS").removeClass(f,"_2ihx"),b("CSS").removeClass(f,"_4xe1"));c=this._getComposerTextInput();if(!c)return;b("DOM").setAttributes(c,{style:h.textInputStyle});a=b("DOMQuery").scry(c,"._3hpm");a.forEach(function(a){b("DOM").setAttributes(a,{style:h.textInputDelightStyle})});d=this._getComposerPlaceholder();if(!d)return;b("DOM").setAttributes(d,{style:h.textInputColorStyle});h.textInputColorStyle&&(d.style.opacity="0.7")},_updateOverlay:function(){__p&&__p();var a=this._getComposerRoot();if(!a)return;a=this._getComposerBody();if(!a)return;var c=this._getComposerOverlay();if(!c)return;a=this._getStyles(this.state.selectedIndex,this.state.selectedCategory);b("DOM").setAttributes(c,{style:a.bodyStyle});a=function a(d){b("CSS").removeClass(c,"_1wnq"),b("CSS").addClass(c,"_1wnr"),b("CSS").addClass(c,"_3eo2"),c.removeEventListener("transitionend",a,!1)};b("CSS").removeClass(c,"_3eo2");c.addEventListener("transitionend",a,!1);b("CSS").addClass(c,"_1wnq");b("CSS").removeClass(c,"_1wnr")},_saveStickyPreset:function(a,c){this.handleSaveStickyPreset(a);a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID);var d=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);a&&new(b("SATPInteractionsTypedLogger"))().setTrackingString(d).setUserActionString("style_applied").setPresetID(a).setRequestedCollection(c).log()},_onSelect:function(a){this.state.canUseFormattedText&&(b("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,a),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID),this._saveStickyPreset(a,b("SATPPresetCollection").COMPOSER_TOP))},_onSelectInCategorizedFormatTray:function(a,c){this.state.canUseFormattedText&&(b("ReactComposerFormattedTextActions").setSelectedIndexInCategory(this.context.composerID,c,a),this._saveStickyPreset(a,b("SATPPresetCollection").COMPOSER_ALL))},_onToggle:function(){b("ReactComposerFormattedTextActions").toggleCollapsed(this.context.composerID),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onTrayToggle:function(){var a=b("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID),c=b("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);this.state.trayShown||(a=a!=null?a:"-1",new(b("SATPInteractionsTypedLogger"))().setTrackingString(c).setUserActionString("tray_shown").setPresetID(a).setRequestedCollection(b("SATPPresetCollection").COMPOSER_ALL).log());b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY,!0)},_getSelectedTextFormat:function(a,c){__p&&__p();if(a!=null&&a!==b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){var d=null;if(c!=null){for(var e=0;e<this.props.categorizedTextFormatPresets.length;e++)if(this.props.categorizedTextFormatPresets[e].categoryName===c){d=this.props.categorizedTextFormatPresets[e].textFormats;break}}else d=this.props.textFormats;return d&&Object.prototype.hasOwnProperty.call(d,a)?d[a]:null}return null},_getStyles:function(a,b){var c="",d="",e="",f="";a=this._getSelectedTextFormat(a,b);a&&a.bodyStyle&&a.textInputStyle&&(c=a.bodyStyle,d=a.textInputStyle,e=a.textInputColorStyle,f=a.textInputDelightStyle);return{bodyStyle:c,textInputStyle:d,textInputColorStyle:e,textInputDelightStyle:f}}});e.exports=c}),null);
__d("Sticker.react",["cx","fbt","Arbiter","MessengerHotLikeSVG.react","React","ReactDOM","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","getObjectValues","joinClasses","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=83,j=5e3,k=10,l={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};c=b("React").createClass({displayName:"Sticker",propTypes:{accessibilityLabel:a.string,animationTime:a.number,animationTrigger:a.oneOf(b("getObjectValues")(l)),forceCursorPointer:a.bool,frameCount:a.number.isRequired,frameRate:a.number,framesPerCol:a.number.isRequired,framesPerRow:a.number.isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,packID:a.string,packName:a.string,sourceURI:a.string.isRequired,sourceWidth:a.number.isRequired,sourceHeight:a.number.isRequired,spriteURI:a.string,stickerID:a.string,subscribedThreadID:a.string,testID:a.string},getInitialState:function(){return{index:0,hasAnimated:!1,unsubscribeID:null}},getDefaultProps:function(){return{animationTime:j,accessibilityLabel:"",forceCursorPointer:!1,frameRate:i,onStickerClick:b("emptyFunction"),packID:null,packName:""}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._stopIntervalID=0;(this.props.animationTrigger===l.LOAD_AND_HOVER||this.props.animationTrigger===l.ANIMATE_FOREVER)&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var a=b("Arbiter").subscribe(this.props.subscribedThreadID,function(a,b){this.isScrolledIntoView(b.scrollTop,b.viewHeight,b.top)}.bind(this));this.setState({unsubscribeID:a})}},componentWillUnmount:function(){this.state.unsubscribeID&&b("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&b("clearInterval")(this._stopIntervalID)},isAnimating:function(){return!!this._stopIntervalID},getWidth:function(){return Math.floor(this.props.sourceWidth)},getHeight:function(){return Math.floor(this.props.sourceHeight)},preloadSprite:function(){var a=new window.Image();a.onload=function(){this.isMounted()&&!this.state.hasAnimated&&(this.setState({hasAnimated:!0}),this._stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))}.bind(this);b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?a.src=this.props.paddedSpriteURI:a.src=this.props.spriteURI},isScrolledIntoView:function(a,c,d){var e=b("getElementPosition")(b("ReactDOM").findDOMNode(this));d=a+e.y-d;c=a+c;e=d+e.height;this.props.frameCount>1&&!this.state.hasAnimated&&e-k<=c&&d+k>=a&&this.startAnimation()},startAnimation:function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this._stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))},stopAnimation:function(){this.setState({index:0}),b("clearInterval")(this._stopIntervalID),this._stopIntervalID=0},toggleAnimation:function(){this.isAnimating()?this.stopAnimation():this.startAnimation()},shouldStopAnimating:function(){var a=this.state.index%this.props.frameCount;if(this.props.animationTrigger===l.ANIMATE_FOREVER)return!1;if(!(a===0&&this.state.index*this.props.frameRate>this.props.animationTime))return!1;return this.props.animationTrigger===l.CLICK?!0:!this.state.isHovered},incrementFrameIndex:function(){this.shouldStopAnimating()?this.stopAnimation():this.setState({index:this.state.index+1})},getStyle:function(){__p&&__p();var a=0,c=this.props.spriteURI;if(b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){c=this.props.paddedSpriteURI;var d=240/Math.min(this.getHeight(),this.getWidth());a=Math.floor(b("StickerConstants").SPRITE_PADDING/d)}d=this.state.index%this.props.frameCount;var e=d%this.props.framesPerRow*(this.getWidth()+a*2)+a;d=Math.floor(d/this.props.framesPerRow)*(this.getHeight()+a*2)+a;var f=this.props.frameCount>1&&this.props.animationTrigger===l.CLICK||this._isStickerClickable(this.props.packID);f=this.props.forceCursorPointer||f?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI)return{backgroundImage:this._isHotLike()?null:"url("+this.props.sourceURI+")",backgroundRepeat:"no-repeat",backgroundSize:this.getWidth()+"px "+this.getHeight()+"px",cursor:f,height:this.getHeight(),width:this.getWidth()};else return{backgroundImage:"url("+c+")",backgroundPosition:-e+"px "+-d+"px",backgroundSize:(this.getWidth()+a*2)*this.props.framesPerRow+"px "+(this.getHeight()+a*2)*this.props.framesPerCol+"px",cursor:f,height:this.getHeight(),width:this.getWidth(),imageRendering:"-webkit-optimize-contrast"}},_isStickerClickable:function(a){return a&&a!=b("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=b("StickerConstants").GRAVEYARD_PACK_ID},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;this.props.onStickerClick&&this.props.onStickerClick(this.props.packID,this.props.stickerID)},mouseLeft:function(){this.setState({isHovered:!1})},mouseEntered:function(){this.setState({isHovered:!0}),this.isAnimating()||this.startAnimation()},tabFocusSelected:function(){this.setState({isHovered:!0}),this.isAnimating()||this.startAnimation()},tabFocusUnselected:function(){this.setState({isHovered:!1})},getAriaLabel:function(){return h._("{pack name} {sticker name} sticker",[h._param("pack name",this.props.packName),h._param("sticker name",this.props.accessibilityLabel)])},render:function(){var a=void 0,c=void 0;this.props.animationTrigger===l.CLICK&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===l.HOVER||this.props.animationTrigger===l.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI&&(c=!0);a=a?this.toggleAnimation:null;this.props.packID&&(a=this.onStickerClick);var d=this.props.className,e=null;this._isHotLike()&&(d=b("joinClasses")(d,"_576q"),e=b("React").createElement(b("MessengerHotLikeSVG.react"),{color:this.props.customColor}));return b("React").createElement("div",{"aria-label":this.getAriaLabel(),className:d,"data-testid":this.props.testID,onBlur:this.tabFocusUnselected,onClick:a,onFocus:this.tabFocusSelected,onMouseEnter:c?this.mouseEntered:null,onMouseLeave:c?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:"0"},e)},_isHotLike:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1}});e.exports=c}),null);
__d("StickerUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getScaledDimensions:function(a,b,c){var d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}},capitalizeWords:function(a){a=a.split(" ");for(var b=0;b<a.length;b++){var c=a[b].charAt(0).toUpperCase();a[b]=c+a[b].substr(1)}return a.join(" ")}};e.exports=a}),null);
__d("ReactComposerStickerComponent.react",["ix","cx","fbt","Arbiter","Image.react","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","ShimButton.react","Sticker.react","StickerAssetType","StickerConstants","StickerUtils","XStickerAssetController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("ReactComposerTaggerActions").setTaggerData(this.props.composerID,b("ReactComposerLoggingName").STICKER_SPROUT,b("ReactComposerTaggerType").STICKER,null)}.bind(this),this.$4=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.props.composerID,b("ReactComposerTaggerType").STICKER,a)}.bind(this),c}a.prototype.render=function(){"use strict";if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var a=b("StickerUtils").getScaledDimensions(b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE),c=a.height;a=a.width;var d=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",this.props.sticker.stickerID);c=b("React").createElement(b("Sticker.react"),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:1,frameRate:b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:c,sourceURI:d.setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:a,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return b("React").createElement("div",{className:"_x88"},b("React").createElement("span",{className:"_x8a"},c,this.$2()))};a.prototype.$2=function(){"use strict";return b("React").createElement(b("ShimButton.react"),{className:"_x8b",onClick:this.$3},b("React").createElement(b("Image.react"),{alt:i._("Remove sticker"),src:g("125920")}))};a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$4(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$4)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.unsubscribe(),this.$1=null};e.exports=a}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("AbstractDialogFitHeight"));g&&g.prototype;a.prototype.getHeightProperty=function(){"use strict";return"height"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);